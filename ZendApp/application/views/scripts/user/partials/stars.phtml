<? for ($i = 0; $i < 5; $i += 1) { ?>
    <? if ($i + 0.5 == $this->rating) { ?>
        <i class="fa fa-star-half-o"></i>
    <? } else if ($i < $this->rating) { ?>
        <i class="fa fa-star"></i>
    <? } else if ($i >= $this->rating) { ?>
        <i class="fa fa-star-o"></i>
    <? } ?>
<? } ?>